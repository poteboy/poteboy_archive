{"componentChunkName":"component---src-components-post-tsx","path":"/blog/observer_vs_pubsub_pattern","result":{"data":{"contentfulTech":{"title":"【デザインパターン】ObserverとPubSubの違い","publishedDate":"May 15th, 2021","description":"GoFソフトウェアデザインパターンのObserverとPubSubの違いについて解説","body":{"childMarkdownRemark":{"html":"<h2>はじめに</h2>\n<p>私は普段のフロントエンド開発においてAngularというフレームワークを使うことが多いのだが、Angularでは一般的に<strong>RxJS</strong>というライブラリーを用いて非同期処理やイベントハンドリングを行なうことが主流となっている。</p>\n<p>RxJSはReactiveXと呼ばれるリアクティブプログラミング(*1)ライブラリー群の中でJavaScript向けに提供されているライブラリーで、<strong>Observerパターン</strong>というGoF(*2)のソフトウェアデザインパターンに準拠して作られている。</p>\n<p>私は長らくこのObserverパターンを<strong>PubSub(出版購読)パターン</strong>と同じものだと思っていたのだが、つい最近になって両者は別の概念だという事を知った。</p>\n<p>よってこの記事では、ObserverパターンとPubSubパターンの違いについて私が勉強したことを簡単にまとめてみる。</p>\n<br/>\n<h2>Observerパターンとは</h2>\n<p>Observerパターンは、Wikipediaで次のように定義されている。</p>\n<blockquote>\n<p>“The observer pattern is a software design pattern in which an object, called the subject, maintains a list of its dependents, called observers, and notifies them automatically of any state changes, usually by calling one of their methods.” - <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\">Observer pattern</a></p>\n</blockquote>\n<br/>\n<p>日本語で要約すると、Subject(被・観察者)に何か変更があった際にObserver(観察者)に自動的に変更がNotify(通知)されるデザインパターンとされている。</p>\n<p>このデザインパターンは、図を用いて以下のように表現することができる。</p>\n<p><a\n          class=\"gatsby-resp-image-link\"\n          href=\"https://images.ctfassets.net/k8nc29mdlquq/59rDKmr4chYjQ1utwlP4cE/f8664acaa9c7835bfd9726586e2fa636/____________________________2021-05-16_1.53.29.png\"\n          style=\"display: block\"\n          target=\"_blank\"\n          rel=\"noopener\"\n        >\n          <span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 55.02577319587629%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Observerデザインパターン\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/k8nc29mdlquq/59rDKmr4chYjQ1utwlP4cE/f8664acaa9c7835bfd9726586e2fa636/____________________________2021-05-16_1.53.29.png\"\n        srcset=\"https://images.ctfassets.net/k8nc29mdlquq/59rDKmr4chYjQ1utwlP4cE/f8664acaa9c7835bfd9726586e2fa636/____________________________2021-05-16_1.53.29.png?w=388 388w,\nhttps://images.ctfassets.net/k8nc29mdlquq/59rDKmr4chYjQ1utwlP4cE/f8664acaa9c7835bfd9726586e2fa636/____________________________2021-05-16_1.53.29.png?w=776 776w,\nhttps://images.ctfassets.net/k8nc29mdlquq/59rDKmr4chYjQ1utwlP4cE/f8664acaa9c7835bfd9726586e2fa636/____________________________2021-05-16_1.53.29.png?w=1552 1552w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span>\n        </a></p>\n<br/>\n<p>分かりやすく例を用いて説明すると、就職活動においてSubjectが募集企業とした時に、Observerを求職者として見なすと、募集枠に空きが出たタイミングで求職者に通知されるデザインパターンをObserverパターンと言う。</p>\n<p>なお、Observerグループは集合体である（よってここではObserversと表記している）が、個々のObserverが担う役割は異なっており、それぞれのObserverは他のObserverの役割に関しては関与しない。</p>\n<br/>\n<h2>PubSubパターンとは</h2>\n<p>PubSubパターンは、Wikipediaで次のように定義されている。</p>\n<blockquote>\n<p>“publish–subscribe is a messaging pattern where senders of messages, called publishers, do not program the messages to be sent directly to specific receivers, called subscribers.” - <a href=\"https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\">Publish–subscribe pattern</a></p>\n</blockquote>\n<p>すなわち、Publisher(出版社)が直接的にイベントをSubscriber(購読者)に通知しない、と言う点でSubjectが直接イベントをObserverに通知するObserverパターンと異なっていることがわかる。</p>\n<p>このデザインパターンでは、PublisherとSubscriberはお互いに存在を認知しておらず、代わりに<strong>Event Bus</strong>と呼ばれる仲介人(Broker)を介してイベントが伝達される。なお、Event Busの存在はPublisherとSubscriberから認知されている。</p>\n<p>イベントはEvent Busによってフィルタリングされ、それぞれのSubscriberに合わせてデータが成形された上で渡される。</p>\n<p><a\n          class=\"gatsby-resp-image-link\"\n          href=\"https://images.ctfassets.net/k8nc29mdlquq/7jByazwf5tKT9ZW45FUk9p/1fab2fcb488f1d0a2ea806b9b73a8495/____________________________2021-05-16_2.21.48.png\"\n          style=\"display: block\"\n          target=\"_blank\"\n          rel=\"noopener\"\n        >\n          <span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 51.73501577287066%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"PubSubデザインパターン\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/k8nc29mdlquq/7jByazwf5tKT9ZW45FUk9p/1fab2fcb488f1d0a2ea806b9b73a8495/____________________________2021-05-16_2.21.48.png\"\n        srcset=\"https://images.ctfassets.net/k8nc29mdlquq/7jByazwf5tKT9ZW45FUk9p/1fab2fcb488f1d0a2ea806b9b73a8495/____________________________2021-05-16_2.21.48.png?w=317 317w,\nhttps://images.ctfassets.net/k8nc29mdlquq/7jByazwf5tKT9ZW45FUk9p/1fab2fcb488f1d0a2ea806b9b73a8495/____________________________2021-05-16_2.21.48.png?w=634 634w,\nhttps://images.ctfassets.net/k8nc29mdlquq/7jByazwf5tKT9ZW45FUk9p/1fab2fcb488f1d0a2ea806b9b73a8495/____________________________2021-05-16_2.21.48.png?w=1268 1268w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span>\n        </a></p>\n<br/>\n<p>先ほどの例を用いて説明すると、募集企業(Publisher)と求職者(Subscriber)はお互いにその存在を認知しておらず、募集枠に空きができたタイミングで人材紹介会社(Event Bus)が仲介してイベントを伝達するという役割を果たすことになる。</p>\n<p>また、募集の条件（ポジション、給与、待遇）などは個々の求職者によって千差万別であり、求職者に合わせて人材紹介会社が募集内容を変更するデザインパターンであるとも言える。</p>\n<br/>\n<h2>まとめ</h2>\n<p>ObserverパターンではSubject(被・観察者)とObserver(観察者)がお互いの存在を認知し、直接イベントの変更を伝達するが、PubSubパターンではPublisher(出版社)とSubscriber(購読者)はお互いの存在を認知しておらず、Event Bu（仲介者）を通してのみ情報の伝達が発生する。</p>\n<p>ObserverパターンにおいてはSubject(被・観察者)とObserver(観察者)がお互いの存在を認知しているが故に、適切なメソッドをゼロタイムで呼び出すことができるので、同期的な処理に向いているとされている。</p>\n<p>対して、PubSubパターンではEvent Bus（仲介者）の存在が非同期的な処理を可能にする（故に、非同期的なアプリケーションに実装される）。</p>\n<br/>\n<h2>補足</h2>\n<ul>\n<li>*1 データをストリームとして捉え、ストリームの操作を宣言的に記述するプログラミングパラダイム</li>\n<li>*2 Gang of Four：「Design Patterns: Elements of Reusable Object-Oriented Software」の著者である4人のプログラマーの総称</li>\n</ul>\n<h2>参考</h2>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=72bdaDl4KLM\">Design Patterns: Observer and Publish-Subscribe</a></li>\n<li><a href=\"https://www.redbubble.com/check-out/thanks?charge_source=STRIPE&#x26;code=0edf8e19&#x26;id=46060592\">Observer vs Pub-Sub Pattern</a></li>\n</ul>"}}},"contentfulPoem":null},"pageContext":{"slug":"observer_vs_pubsub_pattern","topic":"ContentfulTechEdge","prev":{"slug":"struggle-is-real","title":"新卒プログラマーがエンジニアリングと人生について考える","publishedDate":"2021-05-21T02:14+09:00"},"next":{"slug":"why-i-prefer-to-call-myself-developer","title":"私がエンジニアではなくディベロッパーを名乗る理由","publishedDate":"2021-05-08T23:14+09:00"}}},"staticQueryHashes":["1271460761","2463962953","3000541721"]}